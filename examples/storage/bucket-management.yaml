# Bucket Management Example
# This example demonstrates bucket lifecycle management

# Step 1: Create Bucket
create_bucket_request:
  method: POST
  url: https://api.registryaccord.com/storage/v1/storage/buckets
  headers:
    Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    RA-API-Version: "2025-11-01"
    Idempotency-Key: 550e8400-e29b-41d4-a716-446655440002
    Content-Type: application/json
  body:
    name: "creator-content-2025"
    owner_id: "123e4567-e89b-12d3-a456-426614174000"
    provider: "S3"
    region: "us-west-2"
    encryption:
      enabled: true
      kms_key_id: "arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012"
    versioning_enabled: true

create_bucket_response:
  status: 201
  headers:
    X-RateLimit-Limit: 1000
    X-RateLimit-Remaining: 999
    X-RateLimit-Reset: 3600
    RA-API-Version: "2025-11-01"
    X-Correlation-ID: 550e8400-e29b-41d4-a716-446655440002
  body:
    data:
      id: "123e4567-e89b-12d3-a456-426614174004"
      name: "creator-content-2025"
      owner_id: "123e4567-e89b-12d3-a456-426614174000"
      provider: "S3"
      region: "us-west-2"
      encryption:
        enabled: true
        kms_key_id: "arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012"
      versioning_enabled: true
      created_at: "2025-11-01T10:00:00Z"

# Step 2: List Buckets
list_buckets_request:
  method: GET
  url: https://api.registryaccord.com/storage/v1/storage/buckets?owner_id=123e4567-e89b-12d3-a456-426614174000
  headers:
    Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    RA-API-Version: "2025-11-01"

list_buckets_response:
  status: 200
  headers:
    X-RateLimit-Limit: 1000
    X-RateLimit-Remaining: 998
    X-RateLimit-Reset: 3600
    RA-API-Version: "2025-11-01"
    X-Correlation-ID: 550e8400-e29b-41d4-a716-446655440003
  body:
    data:
      - id: "123e4567-e89b-12d3-a456-426614174004"
        name: "creator-content-2025"
        owner_id: "123e4567-e89b-12d3-a456-426614174000"
        provider: "S3"
        region: "us-west-2"
        encryption:
          enabled: true
          kms_key_id: "arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012"
        versioning_enabled: true
        created_at: "2025-11-01T10:00:00Z"
    pagination:
      has_next_page: false
      has_prev_page: false

# Step 3: Get Bucket Details
get_bucket_request:
  method: GET
  url: https://api.registryaccord.com/storage/v1/storage/buckets/123e4567-e89b-12d3-a456-426614174004
  headers:
    Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    RA-API-Version: "2025-11-01"

get_bucket_response:
  status: 200
  headers:
    X-RateLimit-Limit: 1000
    X-RateLimit-Remaining: 997
    X-RateLimit-Reset: 3600
    RA-API-Version: "2025-11-01"
    X-Correlation-ID: 550e8400-e29b-41d4-a716-446655440004
  body:
    data:
      id: "123e4567-e89b-12d3-a456-426614174004"
      name: "creator-content-2025"
      owner_id: "123e4567-e89b-12d3-a456-426614174000"
      provider: "S3"
      region: "us-west-2"
      encryption:
        enabled: true
        kms_key_id: "arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012"
      versioning_enabled: true
      created_at: "2025-11-01T10:00:00Z"

# Step 4: Delete Bucket
delete_bucket_request:
  method: DELETE
  url: https://api.registryaccord.com/storage/v1/storage/buckets/123e4567-e89b-12d3-a456-426614174004
  headers:
    Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    RA-API-Version: "2025-11-01"

delete_bucket_response:
  status: 204
  headers:
    X-RateLimit-Limit: 1000
    X-RateLimit-Remaining: 996
    X-RateLimit-Reset: 3600
    RA-API-Version: "2025-11-01"
    X-Correlation-ID: 550e8400-e29b-41d4-a716-446655440005
